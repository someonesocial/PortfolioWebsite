var O=Object.defineProperty;var F=(i,t,e)=>t in i?O(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var u=(i,t,e)=>(F(i,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();const c=document.querySelector("canvas"),a=c.getContext("2d");function l(i,t){return Math.floor(Math.random()*(t-i+1)+i)}function M(i,t,e,r){const s=e-i,o=r-t;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}function f(i,t){return{x:i.x*Math.cos(t)-i.y*Math.sin(t),y:i.x*Math.sin(t)+i.y*Math.cos(t)}}function q(i,t){const e=i.velocity.x-t.velocity.x,r=i.velocity.y-t.velocity.y,s=t.x-i.x,o=t.y-i.y;if(e*s+r*o>=0){const n=-Math.atan2(t.y-i.y,t.x-i.x),y=i.mass,d=t.mass,x=f(i.velocity,n),v=f(t.velocity,n),L={x:x.x*(y-d)/(y+d)+v.x*2*d/(y+d),y:x.y},D={x:v.x*(d-y)/(y+d)+x.x*2*y/(y+d),y:v.y},g=f(L,-n),w=f(D,-n);i.velocity.x=g.x,i.velocity.y=g.y,t.velocity.x=w.x,t.velocity.y=w.y}}c.width=innerWidth;c.height=innerHeight;const E="#ff0000",V=.1;addEventListener("mousemove",i=>{i.clientX,i.clientY});addEventListener("resize",()=>{c.width=innerWidth,c.height=innerHeight,m()});addEventListener("click",()=>{m()});class I{constructor(t,e,r,s,o,n){u(this,"x");u(this,"y");u(this,"velocity");u(this,"radius");u(this,"mass");u(this,"color");this.x=t,this.y=e,this.velocity=r,this.radius=s,this.mass=o,this.color=n}update(t){this.draw(),this.y+this.radius+this.velocity.y>c.height?this.velocity.y=-this.velocity.y:this.velocity.y+=V,this.y-this.radius+this.velocity.y<=0&&(this.velocity.y=-this.velocity.y),(this.x+this.radius+this.velocity.x>=c.width||this.x-this.radius+this.velocity.x<=0)&&(this.velocity.x=-this.velocity.x);for(let e=0;e<t.length;e++)this!==t[e]&&M(this.x,this.y,t[e].x,t[e].y)-this.radius*2<0&&q(this,t[e]);this.x+=this.velocity.x,this.y+=this.velocity.y}draw(){a.beginPath(),a.arc(this.x,this.y,this.radius,0,Math.PI*2,!1),a.fillStyle=this.color,a.fill(),a.closePath()}}let h=[];function m(){h=[];for(let i=0;i<50;i++){let r=l(20,c.width-20),s=l(20,c.height-20);if(i!==0)for(let n=0;n<h.length;n++)M(r,s,h[n].x,h[n].y)-20*2<0&&(r=l(20,c.width-20),s=l(20,c.height-20),n=-1);const o={x:l(-2,2),y:l(-2,2)};h.push(new I(r,s,o,20,1,E))}}function p(){requestAnimationFrame(p),a.clearRect(0,0,c.width,c.height);for(let i=0;i<h.length;i++)h[i].update(h)}m();p();
